(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,a){e.exports=a(470)},234:function(e,t,a){},247:function(e,t){},249:function(e,t){},264:function(e,t,a){},467:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),c=a.n(o),i=a(7),l=a(14),s=a(199),u=a(9),m=a(10),p=a(12),d=a(11),h=a(13),f=a(200),E=a(46),g=a.n(E),b=a(90),v=a(85),y=a.n(v),O=y.a.create({baseURL:"http://localhost:8000/api"}),N=y.a.create({baseURL:"http://localhost:8000/"}),j={params:{ordering:"-published_at"}},S=function(){return function(){var e=Object(b.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/posts",j);case 2:a=e.sent,t({type:"FETCH_POSTS",payload:a.data});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(b.a)(g.a.mark(function t(a){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.delete("/posts/".concat(e));case 2:a({type:"DELETE_POST"});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(b.a)(g.a.mark(function t(a){var n;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.get("/posts",{params:{search:e}});case 2:n=t.sent,a({type:"SEARCH_RESULTS",payload:n.data});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},k=function(e){return{type:"AUTH_SUCCESS",token:e}},T=function(e){return{type:"AUTH_FAIL",error:e}},A=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},x=function(e){return function(t){setTimeout(function(){t(A())},1e3*e)}},D=function(){return function(e){var t=localStorage.getItem("token");if(void 0===t)e(A());else{var a=new Date(localStorage.getItem("expirationDate"));a<=new Date?e(A()):(e(k(t)),e(x((a.getTime()-(new Date).getTime())/1e3)))}}},L=(a(55),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(){a.props.logout()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui menu"},r.a.createElement(f.a,{className:"item",to:"/home"},"HOME"),r.a.createElement(f.a,{className:"item",to:"/category/SEO"},"SEO"),r.a.createElement(f.a,{className:"item",to:"/category/PROGRAMMING"},"PROGRAMMING"),r.a.createElement(f.a,{className:"item",to:"/category/BLOCKCHAIN"},"BLOCKCHAIN"),r.a.createElement("div",{className:"right menu"},r.a.createElement(f.a,{className:"item",to:"/about"},"ABOUT"),this.props.isAuthenticated?r.a.createElement("div",{className:"right menu"},r.a.createElement(f.a,{className:"item",to:"/list"},"Admin"),r.a.createElement(f.a,{className:"item",to:"/logout",onClick:this.onLogoutClick},"Logout")):r.a.createElement("div",{className:"right menu"},r.a.createElement(f.a,{className:"item",to:"/login"},"Login"),r.a.createElement(f.a,{className:"item",to:"/signup"},"Sign Up"))),r.a.createElement("br",null))}}]),t}(r.a.Component)),P=Object(i.b)(null,function(e){return{logout:function(){return e(A())}}})(L),_=(a(234),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){var e=this,t=this.props.posts.slice(0,3).map(function(t){if(!t.is_draft){if("/home"===e.props.match.url.toLowerCase())return r.a.createElement("div",{key:t.id,className:"five wide column"},r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t.image})),r.a.createElement("div",{className:"content"},t.title),r.a.createElement("div",{className:"extra content"},r.a.createElement("a",{href:"/posts/"+t.id},"READ MORE"))));if(t.category[0]&&e.props.match.url.toLowerCase().includes("/category/"+t.category[0].toLowerCase()))return r.a.createElement("div",{key:t.id,className:"five wide column"},r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t.image})),r.a.createElement("div",{className:"content"},t.title),r.a.createElement("div",{className:"extra content"},r.a.createElement("a",{href:"/posts/"+t.id},"READ MORE"))));if(!t.category[0])return null}});return console.log(t.filter(function(e){return e})),r.a.createElement("div",null,t.filter(function(e){return e}).length>0?r.a.createElement("div",{className:"ui three column center aligned stackable grid"},t):r.a.createElement("p",{className:"postlist nothing"},"Nothing to show in this category"))}}]),t}(r.a.Component)),I=Object(i.b)(function(e){return{posts:e.posts}},{fetchPosts:S})(_),U=a(51),F=a.n(U),M=a(45),R=a.n(M),H=(a(264),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){var e=window.location.href.split("/"),t=e[e.length-1],a=this.props.posts.map(function(e){if(!e.is_draft){if("home"==t.toLowerCase()||"login"==t.toLowerCase()||"signup"==t.toLowerCase()||"about"==t.toLowerCase())return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},e.title),r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:e.image})),r.a.createElement("div",{className:"extra content"},R()(F()(JSON.parse(e.body))))));if(e.category[0]&&t.toLowerCase().includes(e.category[0].toLowerCase()))return r.a.createElement("div",{key:e.id,className:"sixteen wide column"},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},e.title),r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:e.image})),r.a.createElement("div",{className:"extra content"},R()(F()(JSON.parse(e.body))))));if(!e.category[0])return null}});return console.log("PL in post detail",a),r.a.createElement("div",null,a)}}]),t}(r.a.Component)),Y=Object(i.b)(function(e){return{posts:e.posts}},{fetchPosts:S})(H),J=a(127),G=a.n(J),q=a(22),V=a(201),W=(a(359),a(129)),B=function(e){function t(e){var a;return Object(u.a)(this,t),console.log("Form props:",e),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).onFromSubmit=function(e,t,n){e.preventDefault();var r=new FormData;a.state.selectedFile&&r.append("image",a.state.selectedFile,a.state.selectedFile.name);var o={headers:{"content-type":"multipart/form-data"}};switch(r.append("title",a.state.title),r.append("author",a.state.author),r.append("body",JSON.stringify(Object(q.convertToRaw)(a.state.editorState.getCurrentContent()))),r.append("is_draft",a.state.draft),t){case"post":return O.post("/posts/",r,o).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)});case"put":return O.put("/posts/".concat(n,"/"),r,o).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.onTitleChange=function(e){a.setState({title:e.target.value}),console.log(a.state.title)},a.onAuthorChange=function(e){a.setState({author:e.target.value})},a.onCheckboxChange=function(){a.setState(function(e){return{draft:!e.draft}})},a.onFileUploadChange=function(e){a.setState({selectedFile:e.target.files[0]})},e.id?a.state={editorState:e.body,title:e.title,author:e.author,draft:e.draft,selectedFile:e.image}:a.state={editorState:q.EditorState.createEmpty(),title:"",author:"",draft:!1,selectedFile:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.editorState;return r.a.createElement("div",null,r.a.createElement("form",{className:"ui form",onSubmit:function(t){return e.onFromSubmit(t,e.props.requestType,e.props.id,e.props.title,e.props.body)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Form Layout")),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"title"),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.onTitleChange})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"body"),r.a.createElement(V.Editor,{editorState:t,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange}),r.a.createElement("h4",null,"HTML VIEW"),r.a.createElement("textarea",{disabled:!0,value:Object(W.stateToHTML)(this.state.editorState.getCurrentContent())}),r.a.createElement("h4",null,"PREVIEW"),r.a.createElement("pre",null,R()(Object(W.stateToHTML)(this.state.editorState.getCurrentContent())))),r.a.createElement("div",{className:"inline field"},r.a.createElement("div",{className:"ui toggle checkbox"},r.a.createElement("input",{type:"checkbox",name:"draft",checked:this.state.draft,onChange:this.onCheckboxChange}),r.a.createElement("label",null,"is_draft"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"image"),r.a.createElement("input",{type:"file",name:"image",onChange:this.onFileUploadChange})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"author"),r.a.createElement("input",{type:"number",name:"author",value:this.state.author,onChange:this.onAuthorChange})),r.a.createElement("button",{className:"ui button",type:"submit",htmlType:"submit"},this.props.buttonText)))}}]),t}(r.a.Component),K=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onPostDelete=function(){var e=a.props.match.params.id;a.props.DeletePost(e).then(a.props.history.push("/home")).then(a.forceUpdate())},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts(),this.props.authCheckState()}},{key:"render",value:function(){var e=this,t=window.location.href.split("/"),a=t[t.length-1],n=this.props.posts.map(function(t){if(console.log(a),console.log(t.id),a.toString()===t.id.toString())return r.a.createElement("div",{key:t.id,className:"sixteen wide column"},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},t.title),r.a.createElement("div",{className:"image"},r.a.createElement(G.a,null,r.a.createElement("img",{src:t.image,alt:""}))),r.a.createElement("div",{className:"extra content"},R()(F()(JSON.parse(t.body)))),e.props.isAuthenticated?r.a.createElement("div",null,r.a.createElement(B,{requestType:"put",id:t.id,title:t.title,author:t.author,draft:t.is_draft,image:t.image,body:q.EditorState.createWithContent(Object(q.convertFromRaw)(JSON.parse(t.body))),buttonText:"PUT"}),r.a.createElement("form",{onSubmit:e.onPostDelete},r.a.createElement("button",{className:"negative ui button right floated",htmlType:"submit"},"DELETE"))):null))});return r.a.createElement("div",{className:"ui grid"},n)}}]),t}(r.a.Component),X=Object(i.b)(function(e){return{posts:e.posts,isAuthenticated:null!==e.auth.token}},{fetchPosts:S,DeletePost:w,authCheckState:D})(K),z=function(){return r.a.createElement("h2",{className:"ui header"},r.a.createElement("i",{className:"plug icon"}),r.a.createElement("div",{className:"content"},"Learn More"))},Q=a(473),Z=a(472),$=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderInput=function(e){var t=e.input,a=e.label;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("input",Object.assign({},t,{autoComplete:"off"})))},a.onFormSubmit=function(e){a.props.history.push("/results")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onFormSubmit),className:"ui form"},r.a.createElement(Q.a,{name:"search",component:this.renderInput,label:"Search"}))}}]),t}(r.a.Component),ee=(Object(Z.a)({form:"search"})($),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){console.log("search",this.props.search)}},{key:"render",value:function(){var e=this.props.search;console.log("results in search result",e);var t=C(e);console.log(t);var a=this.props.results.map(function(e){return r.a.createElement("a",{key:e.id},' className="item" href=',"/posts/".concat(e.id),e.title)});return r.a.createElement("div",null,0===this.props.results.length?"Nothig to show":a)}}]),t}(r.a.Component)),te=Object(i.b)(function(e){return{results:e.searchResults,search:e.search}},{fetchSearchResults:C})(ee),ae=a(88),ne=a.n(ae),re=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){var e=this.props.posts.map(function(e){if(!e.is_draft)return r.a.createElement("a",{key:e.id,href:"posts/".concat(e.id),className:"item"},r.a.createElement("span",{className:"archive title"},"Title: ",e.title),r.a.createElement("br",null),"(",ne()(e.published_at).format('"MMM Do YY"'),")",r.a.createElement("br",null))});return r.a.createElement("div",{className:"archive"},r.a.createElement("label",null,"Archive"),r.a.createElement("br",null),r.a.createElement("br",null),e)}}]),t}(r.a.Component),oe=Object(i.b)(function(e){return{posts:e.posts}},{fetchPosts:S})(re),ce=function(){return r.a.createElement("div",{className:"author"},r.a.createElement("img",{className:"ui medium circular image",src:"https://storage.tenki.jp/storage/static-images/suppl/article/image/2/27/279/27937/1/large.jpg"}),r.a.createElement("div",null,"\u30d1\u30f3\u30c0"),r.a.createElement("div",null,"\u30b8\u30e3\u30a4\u30a2\u30f3\u30c8\u30d1\u30f3\u30c0\uff08Ailuropoda melanoleuca\uff09\u306f\u3001\u54fa\u4e73\u7db1\u98df\u8089\u76ee\u30af\u30de\u79d1\u30b8\u30e3\u30a4\u30a2\u30f3\u30c8\u30d1\u30f3\u30c0\u5c5e\u306b\u5206\u985e\u3055\u308c\u308b\u98df\u8089\u985e\u3002 \u767d\u3068\u9ed2\u306b\u306f\u3063\u304d\u308a\u3068\u5206\u304b\u308c\u305f\u4f53\u6bdb\u304c\u969b\u7acb\u3063\u305f\u7279\u5fb4\u3067\u3042\u308b\u3002 \u30b8\u30e3\u30a4\u30a2\u30f3\u30c8\u30d1\u30f3\u30c0\u5c5e\u306e\u3001\u552f\u4e00\u73fe\u751f\u3059\u308b1\u7a2e\u3002\u56db\u5ddd\u3068\u79e6\u5dba\u306e2\u4e9c\u7a2e\u304c\u77e5\u3089\u308c\u308b\uff08\u5f8c\u8a18\u300c#\u5206\u985e\u300d\u3092\u53c2\u7167\uff09\u3002 \u5358\u306b\u300c\u30d1\u30f3\u30c0\u300d\u3068\u547c\u3076\u6642\u306f\u3053\u306e3\u7a2e\u3092\u6307\u3057\u3001\u30ec\u30c3\u30b5\u30fc\u30d1\u30f3\u30c0\u306f\u305d\u306e\u307e\u307e\u547c\u3070\u308c\u308b\u4e8b\u304c\u591a\u3044\u3002 \u4e2d\u56fd\u5927\u9678\u3067\u9032\u5316\u3057\u3001\u30a2\u30d0\u30fb\u30c1\u30d9\u30c3\u30c8\u65cf\u30c1\u30e3\u30f3\u65cf\u81ea\u6cbb\u5dde\u57df\u5185\u304c\u4e3b\u305f\u308b\u751f\u606f\u5730\u3067\u3042\u308b\u3002 \u73fe\u5728\u3067\u306f\u4e2d\u83ef\u4eba\u6c11\u5171\u548c\u56fd\u306e\u3054\u304f\u9650\u3089\u308c\u305f\u5730\u57df\uff08\u56db\u5ddd\u7701\u30fb\u965d\u897f\u7701\u306a\u3069\uff09\u306b\u308f\u305a\u304b\u306a\u982d\u6570\u304c\u6b8b\u5b58\u3059\u308b \u7af9\u98df\u306a\u3069\u306e\u8349\u98df\u50be\u5411\u304c\u6bd4\u8f03\u7684\u9ad8\u3044\u96d1\u98df\u6027\u306e\u5927\u578b\u54fa\u4e73\u985e\u3002"))},ie=function(){return r.a.createElement("div",{className:"ui container segment about"},r.a.createElement("div",{className:"ui grid"}),r.a.createElement("h3",{className:"about"},"About"),r.a.createElement("p",{className:"sixteen wide column"},"\u3053\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u6280\u8853\u306b\u3064\u3044\u3066\u3002\u3053\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u6280\u8853\u306b\u3064\u3044\u3066\u3002\u3053\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u6280\u8853\u306b\u3064\u3044\u3066\u3002\u3053\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u6280\u8853\u306b\u3064\u3044\u3066\u3002\u3053\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u6280\u8853\u306b\u3064\u3044\u3066\u3002"))},le=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){var e=this,a=this.props.posts.map(function(a){return r.a.createElement(f.a,{key:a.id,to:"admin/posts/"+a.id,component:function(){return r.a.createElement(t,e.props)}},"Title: ",a.title," | ",a.is_draft?"\u975e\u516c\u958b":"\u516c\u958b\u6e08\u307f"," | ",ne()(a.created_at).format("MMM Do YY"),r.a.createElement("br",null))});return r.a.createElement("div",null,this.props.isAuthenticated?r.a.createElement("div",{className:"ui text container"},r.a.createElement("h2",null,"\u8a18\u4e8b\u30ea\u30b9\u30c8"),a,r.a.createElement("br",null),r.a.createElement("h2",null,"Create a new post"),r.a.createElement(B,{requestType:"post",id:null,buttonText:"POST"})):r.a.createElement("p",null,"You are not logged in."))}}]),t}(r.a.Component),se=Object(i.b)(function(e){return{posts:e.posts,isAuthenticated:null!==e.auth.token}},{fetchPosts:S})(le),ue=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onPostDelete=function(){var e=window.location.href.split("/"),t=e[e.length-1];a.props.DeletePost(t)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("Props in PDV",this.props),this.props.fetchPosts()}},{key:"render",value:function(){var e=this,t=window.location.href.split("/"),a=t[t.length-1];console.log(this.props),console.log(t),console.log(a);var n=this.props.posts.map(function(t){if(a.toString()===t.id.toString())return r.a.createElement("div",null,e.props.isAuthenticated?r.a.createElement("div",null,r.a.createElement(B,{requestType:"put",id:t.id,title:t.title,author:t.author,draft:t.is_draft,image:t.image,body:q.EditorState.createWithContent(Object(q.convertFromRaw)(JSON.parse(t.body))),buttonText:"PUT"}),r.a.createElement("form",{onSubmit:e.onPostDelete},r.a.createElement("button",{className:"negative ui button right floated",htmlType:"submit"},"DELETE"))):null)});return r.a.createElement("div",null,n)}}]),t}(r.a.Component),me=Object(i.b)(function(e){return{posts:e.posts}},{fetchPosts:S,DeletePost:w})(ue),pe=a(471),de=(a(467),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderInput=function(e){var t=e.input,n=e.label,o=e.meta,c="field ".concat(o.error&&o.touched?"error":"");return r.a.createElement("div",{className:c},r.a.createElement("label",null,n),r.a.createElement("input",t),a.renderError(o))},a.onFormSubmit=function(e){a.props.onAuth(e.email,e.password),a.props.history.push("/home")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderError",value:function(e){var t=e.error,a=e.touched;if(t&&a)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},t))}},{key:"render",value:function(){var e=null;return this.props.error&&(e=r.a.createElement("p",null,"this.props.error.message")),r.a.createElement("div",{className:"ui text container"},e,this.props.loading?r.a.createElement("div",{class:"ui segment"},r.a.createElement("div",{class:"ui active inverted dimmer"},r.a.createElement("div",{class:"ui text loader"},"Loading")),r.a.createElement("p",null)):r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onFormSubmit),className:"ui form error"},r.a.createElement("div",{className:"field"},r.a.createElement(Q.a,{name:"email",component:this.renderInput,label:"email"})),r.a.createElement("div",{className:"field"},r.a.createElement(Q.a,{name:"password",component:this.renderInput,label:"password"})),r.a.createElement("button",{className:"ui button",type:"submit"},"Login"),"or",r.a.createElement(pe.a,{to:"/signup/"}," Signup")))}}]),t}(r.a.Component));de=Object(i.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),N.post("/rest-auth/login/",{email:e,password:t}).then(function(e){var t=e.data.key,n=new Date((new Date).getTime+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",n),a(k(t)),a(x(3600))}).catch(function(e){a(T(e))})}}(t,a))}}})(de);var he=Object(Z.a)({form:"login",validate:function(e){var t={};return e.email||(t.email="You must enter a email."),e.password||(t.password="You must enter a password."),t}})(de),fe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderInput=function(e){var t=e.input,n=e.label,o=e.meta,c="field ".concat(o.error&&o.touched?"error":"");return r.a.createElement("div",{className:c},r.a.createElement("label",null,n),r.a.createElement("input",t),a.renderError(o))},a.onFormSubmit=function(e){console.log(e),a.props.onAuth(e.username,e.email,e.password1,e.password2),a.props.history.push("/home")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderError",value:function(e){var t=e.error,a=e.touched;if(t&&a)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},t))}},{key:"render",value:function(){var e=null;return this.props.error&&(e=r.a.createElement("p",null,"this.props.error.message")),r.a.createElement("div",{className:"ui text container"},e,this.props.loading?r.a.createElement("div",{class:"ui segment"},r.a.createElement("div",{class:"ui active inverted dimmer"},r.a.createElement("div",{class:"ui text loader"},"Loading")),r.a.createElement("p",null)):r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onFormSubmit),className:"ui form error"},r.a.createElement("div",{className:"field"},r.a.createElement(Q.a,{name:"username",component:this.renderInput,label:"username"})),r.a.createElement("div",{className:"field"},r.a.createElement(Q.a,{name:"email",component:this.renderInput,label:"email"})),r.a.createElement("div",{className:"field"},r.a.createElement(Q.a,{name:"password1",component:this.renderInput,label:"password1"})),r.a.createElement("div",{className:"field"},r.a.createElement(Q.a,{name:"password2",component:this.renderInput,label:"password2"})),r.a.createElement("button",{className:"ui button",type:"submit"},"Signup"),"or",r.a.createElement(pe.a,{to:"/login/"}," Login")))}}]),t}(r.a.Component);fe=Object(i.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),N.post("/rest-auth/registration/",{username:e,email:t,password1:a,password2:n}).then(function(e){var t=e.data.key,a=new Date((new Date).getTime+36e5);localStorage.setItem("token",t),localStorage.setItem("expirationDate",a),r(k(t)),r(x(3600))}).catch(function(e){r(T(e))})}}(t,a,n,r))}}})(fe);var Ee=Object(Z.a)({form:"login",validate:function(e){var t={};return e.username||(t.username="You must enter a username."),e.email||(t.email="You must enter a email."),e.password1||(t.password1="You must enter a password."),e.password2||(t.password2="You must enter a password."),t}})(fe),ge=a(474),be=a(203),ve=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=this;return console.log("href",window.location.href),r.a.createElement(ge.a,null,r.a.createElement("div",{className:"ui container"},r.a.createElement(z,null),r.a.createElement(P,this.props),r.a.createElement("div",{ui:!0,link:!0,cards:!0},r.a.createElement(be.a,{path:["/home","/category/:category"],exact:!0,component:I}),r.a.createElement(be.a,{path:"/about",exact:!0,component:ie}),r.a.createElement(be.a,{path:"/list",component:se}),r.a.createElement(be.a,{path:"/login",component:he}),r.a.createElement(be.a,{path:"/signup",component:Ee})),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"eleven wide column"},r.a.createElement("div",{ui:!0,segment:!0},r.a.createElement(be.a,{path:["/home","/category/:category","/login","/signup","/about"],exact:!0,component:Y}),r.a.createElement(be.a,{path:"/posts/:id",component:X}),r.a.createElement(be.a,{path:"/admin/posts/:id",component:function(){return r.a.createElement(me,e.props)}}),r.a.createElement(be.a,{path:"/results",component:te}))),r.a.createElement("div",{className:"five wide column"},r.a.createElement("div",{className:"ui segment card"},r.a.createElement(be.a,{path:["/home","/category/:category","/posts/:id","/results","/login","/signup","/about","/admin/posts/:id"],exact:!0,component:ce})),r.a.createElement("div",{className:"ui segment card"},r.a.createElement(be.a,{path:["/home","/category/:category","/posts/:id","/results","/login","/signup","/about","/admin/posts/:id"],exact:!0,component:oe}))))))}}]),t}(r.a.Component),ye=Object(i.b)(function(e){return{isAuthenticated:null!==e.auth.token}},function(e){return{onTryAutoSignup:function(){return e(D())}}})(ve),Oe=a(475),Ne=a(204),je=function(e,t){return Object(Ne.a)({},e,t)},Se={token:null,error:null,loading:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e,t){return je(e,{error:null,loading:!0})}(e);case"AUTH_SUCCESS":return function(e,t){return je(e,{token:t.token,error:null,loading:!1})}(e,t);case"AUTH_FAIL":return function(e,t){return je(e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e,t){return je(e,{token:null})}(e);default:return e}},Ce=Object(l.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return t.payload;default:return e}},form:Oe.a,searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_RESULTS":return t.payload;default:return e}},auth:we}),ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Te=Object(l.e)(Ce,ke(Object(l.a)(s.a)));c.a.render(r.a.createElement(i.a,{store:Te},r.a.createElement(ye,null)),document.querySelector("#root"))},55:function(e,t,a){}},[[205,2,1]]]);
//# sourceMappingURL=main.4836a7b8.chunk.js.map